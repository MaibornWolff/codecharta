---
permalink: /docs/overview/analysis
title: "Analysis"
excerpt: "Let's get started!"

toc: true
toc_sticky: true
toc_label: "Jump to Section"
---

The Analysis, also known as CodeCharta Shell (ccsh), is a command-line interface (CLI) tool, which is used to generate cc.json files that can be used by the visualization. It is a convenient way to access various tools to generate metrics, import metrics from other sources or adjust existing cc.json files. These tools in turn are divided into parsers, importers, filters and exporters.

# Overview

- **Parser**: Generate metrics from a given source (e.g. source code or log files) and return a `cc.json` file
- **Importer**: Converts the output generated by an external source (e.g. SonarQube) to `cc.json` format
- **Filter**: Modifies a (or multiple) given `cc.json` and returns another `cc.json`
- **Exporter**: Takes a `cc.json` file and exports it to other formats

This is a list of all tools available in the ccsh. Each of these tools has its own page with further documentation which can be reached by clicking on the tools name.

## Parser

| Name                                           | Category | Description                                                                                         |
|------------------------------------------------|----------|-----------------------------------------------------------------------------------------------------|
| [SourceCode]({{site.docs_parser}}/source-code) | Parser   | Generates metrics from given source code (currently only supports Java code)                        |
| [RawText]({{site.docs_parser}}/raw-text)       | Parser   | Can generate metrics from any language as it only considers the raw text                            |
| [GitLog]({{site.docs_parser}}/git-log)         | Parser   | Generated metrics based on a given git-log file or git repo (this generates the git-log on the fly) |
| [SVNLog]({{site.docs_parser}}/svn-log)         | Parser   | Generates metrics based on a given SVN-log file                                                     |

## Importer

| Name                                                  | Category | Description                                                                               |
|-------------------------------------------------------|----------|-------------------------------------------------------------------------------------------|
| [Sonar]({{site.docs_importer}}/sonar)                 | Importer | Imports metrics generated by [SonarQube](https://www.sonarsource.com/products/sonarqube/) |
| [Tokei]({{site.docs_importer}}/tokei)                 | Importer | Imports metrics generated by [Tokei](https://github.com/XAMPPRocky/tokei)                 |
| [CSV-Import]({{site.docs_importer}}/csv)              | Importer | Turns generic CSV files of the right format to `cc.json`                                  |
| [SourceMonitor]({{site.docs_importer}}/sourcemonitor) | Importer | Imports metrics generated by [SourceMonitor](https://www.derpaul.net/SourceMonitor/)      |
| [CodeMaat]({{site.docs_importer}}/code-maat)          | Importer | Imports metrics generated by [CodeMaat](https://github.com/adamtornhill/code-maat)        |
| [Coverage]({{site.docs_importer}}/coverage)           | Importer | Imports metrics generated by coverage tools (e.g. Jest)                                   |

## Exporter

| Name                                     | Category | Description                     |
|------------------------------------------|----------|---------------------------------|
| [CSV-Export]({{site.docs_exporter}}/csv) | Exporter | Exports a `cc.json` file as CSV |

## Filter

| Name                                                         | Category | Description                                                                                 |
|--------------------------------------------------------------|----------|---------------------------------------------------------------------------------------------|
| [EdgeFilter]({{site.docs_filter}}/edge-filter)               | Filter   | Turns `cc.json` files that only contain edge data into normal, visualizable `cc.json` files |
| [MergeFilter]({{site.docs_filter}}/merge-filter)             | Filter   | Merges multiple `cc.json` files into one                                                    |
| [StructureModifier]({{site.docs_filter}}/structure-modifier) | Filter   | Allows to modify the structure of a `cc.json` file without manually changing it             |
| [InspectionTool]({{site.docs_filter}}/inspection-tool)       | Filter   | Allows to print the structure of a `cc.json` file in human readable format                  |

# Metrics

The metric that are generated vary significantly based on the tool used. Some tools focus on metrics for specific code files (e.g. number of code lines, complexity, etc.) while other focus on metadata of files (e.g. number of authors, number of commits, etc.). Some tools also generate so called 'edge metrics', which link different files together (e.g. pairing rate, which means that when one file is committed, another is frequently in the same commit).

# The cc.json format

The output of all ccsh tools (except exporters) is a `cc.json` file. This format is a json file that indicates it can be loaded into the [CodeCharta visualization]({{site.docs_overview}}/visualization) to visualize metrics of the analyzed code. It mainly consists of a list of nodes, where each node can be a folder or a file. Files contain a list of attributes, which are the different metrics for that file. Folders contain a list of children which in themselves can be folders or files. This represents the natural folder structure of the code. If the `cc.json` file contains edge metrics they are sorted in a list, similar to the nodes. However, this list is not required for a valid cc.json as edge metrics are an optional feature that is only supported by some ccsh tools.

For additional properties check out the [cc.json schema changelog](https://github.com/MaibornWolff/codecharta/blob/main/CC_JSON_SCHEMA_CHANGELOG.md).

# Goal

The goal of the CodeCharta analysis is to be as **flexible** as possible when **combining** metrics.

There are many tools already available that generate metrics and we wanted to incorporate them as much as possible because we are standing on the shoulder of giants. Since most of them provide some kind of metrics export in a common format (csv, json, ...) we naturally started out writing many small importers per source. For example, we wrote a [SonarImporter]({{site.docs_importer}}/sonar), then a [CSV-Import]({{site.docs_importer}}/csv) and later a Mergefilter to combine these sources. After a while this became a bit unwieldy and we bundled all these small tools under the banner of the CodeCharta Shell (ccsh).

All of these tools have in common that their input and/or output is a `.cc.json` which they usually enrich with quantitative measurements called metrics. We think these metrics are in some ways flawed but still very useful as a conversation starter. However, they should never finish a conversation ("You have to increase line_coverage!").

If you want to learn more, you can read about good and bad [metrics]({{site.docs_analysis}}/metrics), how the [ccsh]({{site.docs_overview}}/analysis) works or how to create [custom metrics or importers]({{site.docs_analysis}}/custom-metrics). And if you want to learn more about the CodeCharta importer and parser, have a look on the Analysing tools section.
