<md-menu class="artificial-intelligence-component">
	<md-button class="ai-button" ng-click="$mdMenu.open($event);hideBadge = true;" title="Open Suspicious Metrics Panel">
		<i class="fa fa-cogs"></i>
		<span
			id="ai-badge"
			ng-show="!hideBadge && ($ctrl._viewModel.suspiciousMetricSuggestionLinks.length || $ctrl._viewModel.unsuspiciousMetrics.length)"
		>
			{{ ($ctrl._viewModel.suspiciousMetricSuggestionLinks.length ? 1 : 0) + ($ctrl._viewModel.unsuspiciousMetrics.length ? 1 : 0) }}
		</span>
	</md-button>

	<md-menu-content class="ai-drop-down" width="7">
		<md-menu-item class="ai-item" ng-show="!$ctrl._viewModel.isFeatureApplicable">
			<md-button ng-disabled="true">Suspicious Metrics can currently be found within JAVA maps only.</md-button>
		</md-menu-item>

		<md-menu-item class="ai-item" ng-show="$ctrl._viewModel.unsuspiciousMetrics.length"
			><md-button ng-disabled="true">Unsuspicious Metrics</md-button></md-menu-item
		>

		<md-menu-item class="ai-list-item" ng-show="$ctrl._viewModel.isFeatureApplicable && $ctrl._viewModel.unsuspiciousMetrics.length">
			<ul ng-repeat="inconspicuousMetric in $ctrl._viewModel.unsuspiciousMetrics">
				<li>{{ inconspicuousMetric }}</li>
			</ul>
		</md-menu-item>

		<md-menu-item class="ai-item"
			><md-button ng-disabled="true" ng-show="$ctrl._viewModel.isFeatureApplicable"
				>Risk Profile (based on mcc)</md-button
			></md-menu-item
		>
		<md-menu-item class="ai-item risk-profile">
			<md-button
				ng-if="$ctrl._viewModel.riskProfile.lowRisk > 0"
				title="Low Risk ({{ $ctrl._viewModel.riskProfile.lowRisk }}% of code)"
				class="low-risk"
				style="width:{{ $ctrl._viewModel.riskProfile.lowRisk }}%"
				ng-disabled="true"
			></md-button>
			<md-button
				ng-if="$ctrl._viewModel.riskProfile.moderateRisk > 0"
				title="Moderate Risk ({{ $ctrl._viewModel.riskProfile.moderateRisk }}% of code)"
				class="moderate-risk"
				style="width:{{ $ctrl._viewModel.riskProfile.moderateRisk }}%"
				ng-disabled="true"
			></md-button>
			<md-button
				ng-if="$ctrl._viewModel.riskProfile.highRisk > 0"
				title="High Risk ({{ $ctrl._viewModel.riskProfile.highRisk }}% of code)"
				class="high-risk"
				style="width:{{ $ctrl._viewModel.riskProfile.highRisk }}%"
				ng-disabled="true"
			></md-button>
			<md-button
				ng-if="$ctrl._viewModel.riskProfile.veryHighRisk > 0"
				title="Very High Risk ({{ $ctrl._viewModel.riskProfile.veryHighRisk }}% of code)"
				class="very-high-risk"
				style="width:{{ $ctrl._viewModel.riskProfile.veryHighRisk }}%"
				ng-disabled="true"
			></md-button>
		</md-menu-item>

		<md-menu-item
			class="ai-item"
			ng-show="$ctrl._viewModel.isFeatureApplicable && $ctrl._viewModel.suspiciousMetricSuggestionLinks.length"
			><md-button ng-disabled="true">Suspicious Metrics</md-button></md-menu-item
		>

		<md-menu-item class="custom-configs-item" ng-repeat="item in $ctrl._viewModel.suspiciousMetricSuggestionLinks">
			<md-button
				class="button-hovering"
				ng-click="$ctrl.applyCustomConfig(item.generalCustomConfigId)"
				title="Apply Map Configuration to highlight suspicious files"
			>
				Suspicious {{ item.metric.toUpperCase() }} Files
			</md-button>
			<md-button
				class="button-hovering"
				ng-if="item.outlierCustomConfigId.length > 0"
				ng-click="$ctrl.applyCustomConfig(item.outlierCustomConfigId)"
				title="Apply Map Configuration to highlight Very High Risk files"
			>
				Very High Risk {{ item.metric.toUpperCase() }} Files
			</md-button>
		</md-menu-item>
	</md-menu-content>
</md-menu>
