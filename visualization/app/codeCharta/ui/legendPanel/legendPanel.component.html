<div class="block-wrapper" [class.visible]="isLegendVisible" [class.isAttributeSideBarVisible]="isAttributeSideBarVisibleService.isOpen">
	<div *ngIf="!(isDeltaState$ | async)">
		<cc-legend-block [metricFor]="'Area'" [legendMetric]="areaMetric$ | async"></cc-legend-block>
		<cc-legend-block [metricFor]="'Height'" [legendMetric]="heightMetric$ | async"></cc-legend-block>
		<cc-legend-block *ngIf="edgeMetric$ | async; let edgeMetric" [metricFor]="'Edge'" [legendMetric]="edgeMetric"></cc-legend-block>
		<hr />
		<cc-legend-block [metricFor]="'Color'" [legendMetric]="colorMetric$ | async"></cc-legend-block>
		<cc-color-picker-for-map-color [mapColorFor]="'positive'"></cc-color-picker-for-map-color>
		<cc-color-picker-for-map-color [mapColorFor]="'neutral'"></cc-color-picker-for-map-color>
		<cc-color-picker-for-map-color [mapColorFor]="'negative'"></cc-color-picker-for-map-color>
	</div>

	<div *ngIf="isDeltaState$ | async">
		<cc-color-picker-for-map-color [mapColorFor]="'positiveDelta'"></cc-color-picker-for-map-color>
		<cc-color-picker-for-map-color [mapColorFor]="'negativeDelta'"></cc-color-picker-for-map-color>
	</div>

	<hr />
	<cc-color-picker-for-map-color [mapColorFor]="'selected'"></cc-color-picker-for-map-color>

	<ng-container *ngIf="edgeMetric$ | async; let edgeMetric">
		<hr />
		<div ng-if="$ctrl._viewModel.edgeMetricHasEdge">
			<cc-color-picker-for-map-color [mapColorFor]="'outgoingEdge'"></cc-color-picker-for-map-color>
			<cc-color-picker-for-map-color [mapColorFor]="'incomingEdge'"></cc-color-picker-for-map-color>
		</div>
	</ng-container>

	<cc-legend-marked-packages></cc-legend-marked-packages>
</div>

<button
	mat-button
	class="panel-button cc-mat-raised cc-shadow"
	(click)="toggleIsLegendVisible()"
	[class.isAttributeSideBarVisible]="isAttributeSideBarVisibleService.isOpen"
	title="{{ isLegendVisible ? 'Hide panel' : 'Show panel' }}"
>
	LEGEND
</button>
