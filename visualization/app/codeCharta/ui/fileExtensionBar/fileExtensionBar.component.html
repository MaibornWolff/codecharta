<div class="cc-distribution">
    <cc-distribution-metric-chooser title="Distribution metric"></cc-distribution-metric-chooser>

    <div class="cc-bar">
        @for (item of metricDistribution; track item) {
            <span
                [style.width]="item.relativeMetricValue + '%'"
                [style.background]="item.color"
                class="cc-bar-section"
                (click)="toggleShowAbsoluteValues()"
            >
                <div
                    class="cc-bar-section-text"
                    (mouseover)="onHoverFileExtensionBar(item.fileExtension)"
                    (mouseleave)="onUnhoverFileExtensionBar()"
                    title="{{
                        item.fileExtension.toString() +
                            ' ' +
                            (showAbsoluteValues ? item.absoluteMetricValue.toFixed(0) : item.relativeMetricValue.toFixed(2) + '%')
                    }}"
                >
                    {{ item.relativeMetricValue >= item.fileExtension.length / 2 + 1 ? item.fileExtension : "" }}
                    {{ showAbsoluteValues ? item.absoluteMetricValue.toLocaleString() : item.relativeMetricValue.toFixed(2) + "%" }}
                </div>
            </span>
        }
    </div>
</div>
