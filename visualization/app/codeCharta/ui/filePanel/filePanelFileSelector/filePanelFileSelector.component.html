<mat-select
    panelClass="cc-file-select"
    [(value)]="selectedFilesInUI"
    (selectionChange)="handleSelectedFilesChanged($event.value)"
    (openedChange)="handleOpenedChanged($event)"
    class="cc-standard-select"
    multiple
>
    <div class="cc-file-selection-actions">
        <button class="cc-file-select-action-button" (click)="handleSelectAllFiles()">All</button>
        <button class="cc-file-select-action-button" (click)="handleSelectZeroFiles()">None</button>
        <button class="cc-file-select-action-button" (click)="handleInvertSelectedFiles()">Invert</button>
    </div>
    @for (file of fileStates; track file) {
        <mat-option class="cc-file-name" [value]="file.file">
            {{ file.file.fileMeta.fileName | removeExtension }}
            @if (fileStates.length > 1) {
                <cc-remove-file-button [filename]="file.file.fileMeta.fileName"></cc-remove-file-button>
            }
        </mat-option>
    }
</mat-select>
