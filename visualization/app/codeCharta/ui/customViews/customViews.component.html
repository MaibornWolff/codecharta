<md-menu class="custom-views-component">
	<md-button class="custom-views-button" ng-click="$ctrl.loadCustomViews(); $mdMenu.open($event); " title="Open your saved custom views">
		<i class="fa fa-eye"></i>
	</md-button>

	<md-menu-content class="custom-views-drop-down" width="7">
		<md-menu-item class="custom-views-item">
			<md-button class="custom-views-dialog-name" ng-disabled="true">Custom Views applicable to current map and mode</md-button>
			<md-button ng-click="$ctrl.showAddCustomViewSettings()" class="action-button add" title="Create new custom view">
				<i class="fa fa-plus" aria-hidden="true"></i>
			</md-button>
		</md-menu-item>

		<md-divider></md-divider>

		<md-menu-item ng-if="!$ctrl._viewModel.dropDownCustomViewItemGroups.length" class="custom-views-item">
			<md-button disabled>It is time to add your first CustomView.</md-button>
		</md-menu-item>

		<md-menu-item class="custom-views-item" ng-repeat="customViewItemGroup in $ctrl._viewModel.dropDownCustomViewItemGroups">
			<md-button
					class="button-hovering"
					ng-click="collapsed=!collapsed"
					md-prevent-menu-close="md-prevent-menu-close"
			>
				<span class="collapse-trigger">
					Custom configs in <strong>{{ customViewItemGroup.mapSelectionMode|lowercase }}</strong> mode for <strong>{{ customViewItemGroup.mapNames }}</strong>
				</span>
				<i ng-show="!collapsed" class="collapse-icon fa fa-arrow-down"></i>
				<i ng-show="collapsed" class="collapse-icon fa fa-arrow-up"></i>
			</md-button>

			<div class="collapsable" ng-show="collapsed">
				<div class="custom-views-item" ng-repeat="customView in customViewItemGroup.customViewItems">
					<md-button
							class="button-hovering"
							ng-click="$ctrl.applyCustomView(customView.id)"
							ng-disabled="!customView.isApplicable"
							title="{{ customView.isApplicable ? 'Apply custom view' : 'This one is applicable for map(s) ' + customView.mapNames + ' in ' + customView.mapSelectionMode + ' mode only.'}}"
					>
						{{ customView.name }}
					</md-button>

					<md-button
							ng-click="$ctrl.removeCustomView(customView.id, customView.name)"
							class="action-button remove button-hovering"
							title="Remove custom view"
					>
						<i class="fa fa-minus-square"></i>
					</md-button>
				</div>
			</div>
		</md-menu-item>

	</md-menu-content>
</md-menu>

<md-menu class="custom-views-component">
	<md-button class="custom-views-button plus" ng-click="$ctrl.showAddCustomViewSettings();" title="Quick save current view">
		<i class="fa fa-plus"></i>
	</md-button>
	<md-menu-content></md-menu-content>
</md-menu>
